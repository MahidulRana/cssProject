if (self.CavalryLogger) { CavalryLogger.start_js(["D0nyD"]); }

__d("GamerGraphUserActionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:GamerGraphUserActionsLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:GamerGraphUserActionsLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:GamerGraphUserActionsLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setContainerGameIds=function(a){this.$1.container_game_ids=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setContainerID=function(a){this.$1.container_id=a;return this};c.setCount=function(a){this.$1.count=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setGameID=function(a){this.$1.game_id=a;return this};c.setItemID=function(a){this.$1.item_id=a;return this};c.setItemdefExtID=function(a){this.$1.itemdef_ext_id=a;return this};c.setItemdefType=function(a){this.$1.itemdef_type=a;return this};c.setMaxTime=function(a){this.$1.max_time=a;return this};c.setMinInterval=function(a){this.$1.min_interval=a;return this};c.setMinTime=function(a){this.$1.min_time=a;return this};c.setP50Time=function(a){this.$1.p50_time=a;return this};c.setSeconds=function(a){this.$1.seconds=a;return this};c.setStarTableValue=function(a){this.$1.star_table_value=a;return this};c.setTargetID=function(a){this.$1.target_id=a;return this};c.setVideoID=function(a){this.$1.video_id=a;return this};c.setVideoType=function(a){this.$1.video_type=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={container_game_ids:!0,container_id:!0,count:!0,event:!0,game_id:!0,item_id:!0,itemdef_ext_id:!0,itemdef_type:!0,max_time:!0,min_interval:!0,min_time:!0,p50_time:!0,seconds:!0,star_table_value:!0,target_id:!0,video_id:!0,video_type:!0};e.exports=a}),null);
__d("GamesStickersTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:GamesStickersLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:GamesStickersLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:GamesStickersLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAllStickersCount=function(a){this.$1.all_stickers_count=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setGalleryEntrypoint=function(a){this.$1.gallery_entrypoint=a;return this};c.setItemCount=function(a){this.$1.item_count=a;return this};c.setItemDefID=function(a){this.$1.item_def_id=a;return this};c.setItemID=function(a){this.$1.item_id=a;return this};c.setTimeSpent=function(a){this.$1.time_spent=a;return this};return a}();c={all_stickers_count:!0,event:!0,gallery_entrypoint:!0,item_count:!0,item_def_id:!0,item_id:!0,time_spent:!0};e.exports=a}),null);
__d("GamesVideoInstreamRewardTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:GamesVideoInstreamRewardLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:GamesVideoInstreamRewardLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:GamesVideoInstreamRewardLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setDropTableID=function(a){this.$1.drop_table_id=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setGameTime=function(a){this.$1.game_time=a;return this};c.setItemCount=function(a){this.$1.item_count=a;return this};c.setItemDefID=function(a){this.$1.item_def_id=a;return this};c.setItemID=function(a){this.$1.item_id=a;return this};c.setOverrideDropTableOwnerGameID=function(a){this.$1.override_drop_table_owner_game_id=a;return this};c.setOverrideItemDefExtID=function(a){this.$1.override_item_def_ext_id=a;return this};c.setVideoID=function(a){this.$1.video_id=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={drop_table_id:!0,event:!0,game_time:!0,item_count:!0,item_def_id:!0,item_id:!0,override_drop_table_owner_game_id:!0,override_item_def_ext_id:!0,video_id:!0};e.exports=a}),null);
__d("VideoWithInstreamStarNuxDismissNuxMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"GamesInstreamRewardDismissNuxResponsePayload",kind:"LinkedField",name:"games_instream_reward_dismiss_nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VideoWithInstreamStarNuxDismissNuxMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VideoWithInstreamStarNuxDismissNuxMutation",selections:b},params:{id:"1951143081585526",metadata:{},name:"VideoWithInstreamStarNuxDismissNuxMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("VideoWithInstreamStarNuxViewNuxMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"GamesInstreamRewardViewNuxResponsePayload",kind:"LinkedField",name:"games_instream_reward_view_nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VideoWithInstreamStarNuxViewNuxMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VideoWithInstreamStarNuxViewNuxMutation",selections:b},params:{id:"759800787477553",metadata:{},name:"VideoWithInstreamStarNuxViewNuxMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("VideoLootDropAlertContainer_refreshStickerQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"stickerID"}],b=[{kind:"Variable",name:"id",variableName:"stickerID"}],c={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"sticker_state",storageKey:null}],type:"Sticker",abstractKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VideoLootDropAlertContainer_refreshStickerQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[c],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VideoLootDropAlertContainer_refreshStickerQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c],storageKey:null}]},params:{id:"2492630807445577",metadata:{},name:"VideoLootDropAlertContainer_refreshStickerQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("GamesStickerGallerySidebar.react",["cx","fbt","FDSButton.react","FDSButtonSpinner.react","FDSText.react","Image.react","React","ScrollableArea.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=56,k=56;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return i.jsxs("div",{className:"_6qij",style:{width:this.props.width,height:this.props.height},children:[i.jsx(l,{sceneDescription:this.props.sceneDescription}),i.jsx(m,{onPlace:this.props.onPlace,stickers:this.props.stickers})]})};return b}(i.PureComponent);var l=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.render=function(){return i.jsxs("div",{children:[i.jsx("div",{className:"_6s03",children:h._("Collectibles")}),i.jsx("div",{className:"_6rz_",children:this.props.sceneDescription})]})};return a}(i.PureComponent),m=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.$1=function(a,c,d){var e=this;return i.jsxs("div",{children:[i.jsx("div",{className:"_6ook",children:i.jsx(b("FDSText.react"),{color:"secondary",size:"body3",children:c})}),i.jsx("div",{children:a.map(function(a){return i.jsx(n,{onPlace:d?e.props.onPlace:null,sticker:a},a.gameStickerID)})})]})};d.render=function(){var a=[],c=[],d=[];this.props.stickers.forEach(function(b){b.placed?a.push(b):b.itemID!==null?c.push(b):d.push(b)});var e=i.jsxs("div",{className:"_6r-h",children:[c.length>0?this.$1(c,h._("READY TO PLACE"),!0):null,d.length>0?this.$1(d,h._("{number of stickers} REMAINING",[h._param("number of stickers",d.length)]),!1):null,a.length>0?this.$1(a,h._("{number of stickers} COLLECTED",[h._param("number of stickers",a.length)]),!1):null]});return i.jsx(b("ScrollableArea.react"),{children:e})};return a}(i.PureComponent),n=function(c){babelHelpers.inheritsLoose(a,c);function a(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.state={placing:!1,sticker:b.props.sticker},b.$1=function(){b.props.onPlace&&(b.props.onPlace(b.props.sticker),b.setState({placing:!0}))},a)||babelHelpers.assertThisInitialized(b)}a.getDerivedStateFromProps=function(a,b){return b.sticker!==a.sticker||b.placing&&a.sticker.placed?{placing:!1,sticker:a.sticker}:null};var d=a.prototype;d.render=function(){var a=this.props.sticker.itemID!==null,c=this.props.sticker.headshotPlaceholderURI!==null,d=a||c?"":"_6qtn";return i.jsxs("div",{className:"_6n_d",children:[i.jsxs("div",{className:"_6h7w",children:[i.jsx("div",{className:b("joinClasses")("_6qv4",d),children:i.jsx(b("Image.react"),{height:j,src:a||!c?this.props.sticker.headshotURI:this.props.sticker.headshotPlaceholderURI,style:a||c?{}:{WebkitFilter:"contrast(0%) brightness(1.7)"},width:k})}),i.jsxs("div",{className:"_6qrp",children:[i.jsx("span",{className:"_6qrq",children:this.props.sticker.title}),i.jsx("span",{className:"_6qrr",children:this.props.sticker.description})]})]}),this.props.onPlace?i.jsx(b("FDSButton.react"),{busyIndicator:this.state.placing?i.jsx(b("FDSButtonSpinner.react"),{}):void 0,isDisabled:this.state.placing,label:h._("Place"),onClick:this.$1}):null]})};return a}(i.PureComponent);e.exports=a}),null);
__d("XGamesStickerGalleryPlaceController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/gaming/sticker_gallery/place_sticker/",{sticker_item_id:{type:"FBID",required:!0}})}),null);
__d("GamesStickerGalleryModal.react",["cx","AsyncRequest","Event","GamesStickerGallerySidebar.react","GamesStickersTypedLogger","React","Run","ScaledImage.react","Spotlight.react","SubscriptionsHandler","XGamesStickerGalleryPlaceController"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=360,j=.9;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(d=e=a.call.apply(a,[this].concat(g))||this,e.state={stickers:(c=e.props.stickers)!=null?c:[],modalHeight:0,sceneWidth:0},e.$4=function(){if(e.$2)return;e.$2=!0;new(b("GamesStickersTypedLogger"))().setEvent("gallery_enter").setGalleryEntrypoint(e.props.entrypoint).log()},e.$6=function(){if(!e.$2)return;e.$2=!1;new(b("GamesStickersTypedLogger"))().setEvent("gallery_exit").setTimeSpent(Date.now()-e.$1).setGalleryEntrypoint(e.props.entrypoint).log()},e.$5=function(){var a=j*window.innerHeight,b=j*window.innerWidth-i,c=e.props.backgroundWidth/e.props.backgroundHeight,d=Math.min(a,b/c);b=Math.min(b,a*c);e.setState({modalHeight:d,sceneWidth:b})},e.$8=function(a){var c=b("XGamesStickerGalleryPlaceController").getURIBuilder().setFBID("sticker_item_id",a.itemID).getURI();new(b("AsyncRequest"))().setURI(c).setHandler(function(b){b&&b.payload&&e.setState(function(b){b=[].concat(b.stickers);var c=babelHelpers["extends"]({},a,{placed:!0});b[b.indexOf(a)]=c;return{stickers:b}})}).send()},d)||babelHelpers.assertThisInitialized(e)}var d=c.prototype;d.componentDidMount=function(){this.$1=Date.now(),this.$4(),this.$5(),b("Run").onUnload(this.$6),this.$7()};d.componentWillUnmount=function(){this.$3.release(),this.$6()};d.$7=function(){this.$3=new(b("SubscriptionsHandler"))(),this.$3.addSubscriptions(b("Event").listen(window,"focus",this.$4),b("Event").listen(window,"blur",this.$6),b("Event").listen(window,"resize",this.$5))};d.$9=function(a){return a*100+"%"};d.render=function(){var a=this,c=Math.max(this.state.modalHeight/this.props.backgroundHeight,this.state.sceneWidth/this.props.backgroundWidth);return h.jsx(b("Spotlight.react"),{onHide:this.props.onHide,shown:!0,children:h.jsx("div",{className:"_n3",children:this.state.stickers.length>0&&this.props.backgroundImageURI!=null?h.jsxs("div",{className:"_6h7w",children:[h.jsxs("div",{className:"_6jrq",children:[h.jsx(b("ScaledImage.react"),{height:this.state.modalHeight,imageSize:{height:this.props.backgroundHeight,width:this.props.backgroundWidth},src:this.props.backgroundImageURI,width:this.state.sceneWidth}),h.jsx("div",{className:"_6jrr",children:this.state.stickers.map(function(d,e){return d.placed||d.placeholderURI!==null?h.jsx("div",{className:"_6jrs",style:{top:a.$9(d.yPos),left:a.$9(d.xPos),zIndex:d.zIndex},children:h.jsx(b("ScaledImage.react"),{height:d.height*c,imageSize:{height:d.height,width:d.width},src:d.placed?d.imageURI:d.placeholderURI,width:d.width*c})},e):null})})]}),h.jsx(b("GamesStickerGallerySidebar.react"),{height:this.state.modalHeight,onPlace:this.$8,sceneDescription:this.props.sceneDescription,stickers:this.state.stickers,width:i})]}):h.jsx("div",{className:"_2pi0 _6qik",children:"There was an error while loading your sticker gallery. Please try again."})})})};return c}(h.PureComponent);e.exports=a}),null);
__d("XGamesLoadStickerGalleryController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/gaming/load_sticker_gallery/",{page_id:{type:"FBID"}})}),null);
__d("GamesStickerGalleryButton.react",["ix","fbt","AsyncRequest","FDSButton.react","FDSSpinner.react","GamesStickerGalleryModal.react","Image.react","React","XGamesLoadStickerGalleryController","asset","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={status:"IDLE",stickers:null,backgroundHeight:0,backgroundImageURI:null,backgroundWidth:0,sceneDescription:""},d.$1=function(){var a=b("XGamesLoadStickerGalleryController").getURIBuilder().setFBID("page_id",d.props.pageID).getURI();new(b("AsyncRequest"))().setURI(a).setHandler(function(a){a&&a.payload&&a.payload.stickers?d.setState({status:"STICKERS_LOADED",stickers:a.payload.stickers,backgroundHeight:a.payload.backgroundHeight,backgroundImageURI:a.payload.backgroundImageURI,backgroundWidth:a.payload.backgroundWidth,sceneDescription:a.payload.sceneDescription}):d.setState({status:"FAILED"})}).setErrorHandler(function(a){d.setState({status:"FAILED"})}).send();d.setState({status:"LOADING"})},d.$2=function(){d.setState({status:"IDLE"})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(){if(this.state.status==="STICKERS_LOADED")return i.jsx(b("GamesStickerGalleryModal.react"),{backgroundHeight:this.state.backgroundHeight,backgroundImageURI:this.state.backgroundImageURI,backgroundWidth:this.state.backgroundWidth,entrypoint:this.props.entrypoint,onHide:this.$2,sceneDescription:this.state.sceneDescription,stickers:this.state.stickers});else if(this.state.status==="FAILED")return i.jsx(b("GamesStickerGalleryModal.react"),{backgroundHeight:1,backgroundImageURI:null,backgroundWidth:1,entrypoint:this.props.entrypoint,onHide:this.$2,sceneDescription:this.state.sceneDescription,stickers:null});else return null};d.render=function(){return i.jsxs(i.Fragment,{children:[i.jsx(b("FDSButton.react"),{icon:this.state.status==="LOADING"?i.jsx(b("FDSSpinner.react"),{margin:"_3-8_",size:"small"}):i.jsx(b("Image.react"),{src:g("687985")}),isDisabled:this.state.status==="LOADING",label:h._("View Collection"),onClick:this.$1,width:this.props.isLHC?"100%":void 0}),this.$3()]})};return c}(i.PureComponent);e.exports=a}),null);
__d("DigitalContentWalletPromotionDispatcher.react",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";a=new(b("ExplicitRegistrationReactDispatcher"))({strict:!0});e.exports=a}),null);
__d("DigitalContentWalletPromotionActions.react",["DigitalContentWalletPromotionDispatcher.react"],(function(a,b,c,d,e,f){"use strict";a={setAcceptPromotion:function(a,c){a&&b("DigitalContentWalletPromotionDispatcher.react").dispatch({type:"ACCEPT_PROMOTION",event_type:c})},setDismissPromotion:function(a,c){a&&b("DigitalContentWalletPromotionDispatcher.react").dispatch({type:"DISMISS_PROMOTION",event_type:c})}};e.exports=a}),null);
__d("LootDropStarsNuxModal.react",["cx","fbt","FDSButton.react","Image.react","OnVisible.react","React","XUICloseButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=80;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return i.jsx(b("OnVisible.react"),{onVisible:this.props.onVisible,children:i.jsx("div",{className:"_1p8p",children:i.jsxs("div",{className:"_1p8q",children:[i.jsx("div",{className:"_1p8r",children:i.jsx(b("XUICloseButton.react"),{onClick:this.props.onClose})}),i.jsx("div",{className:"_1p8s",children:i.jsxs("div",{className:"_1p8t",children:[this.props.imageSrc?i.jsx("div",{className:"_1p91",children:i.jsx(b("Image.react"),{src:this.props.imageSrc,width:j,height:j})}):null,i.jsx("div",{className:"_1p97",children:h._("New! Send Free Stars")}),i.jsx("div",{className:"_1p98",children:i.jsx("span",{children:h._("You can send Stars you receive during this stream to {Streamer Name} to support them and the content they create. Use them during this stream before they disappear.",[h._param("Streamer Name",this.props.pageName)])})})]})}),i.jsx("div",{className:"_1pc6",children:i.jsx(b("FDSButton.react"),{onClick:this.props.onClose,size:"large",label:h._("OK")})})]})})})};return c}(i.PureComponent);e.exports=a}),null);
__d("XLootDropNuxController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/lootdrop/nux/{video_id}/",{video_id:{type:"Int",required:!0}})}),null);
__d("VideoWithInstreamStarNux",["AsyncRequest","DOM","GamerGraphUserActionsTypedLogger","GamesVideoInstreamRewardTypedLogger","LootDropStarsNuxModal.react","React","ReactDOM","RelayFBEnvironment","RelayModern","Tahoe","XLootDropNuxController","once","VideoWithInstreamStarNuxViewNuxMutation.graphql","VideoWithInstreamStarNuxDismissNuxMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h,i=b("React"),j=b("RelayModern").commitMutation;b("RelayModern").graphql;var k=!1,l=1e3;a=function(){function a(a,c,d,e,f){var g=this;this.$7=function(){var a=g.$8();if(!a)return;a=b("XLootDropNuxController").getURIBuilder().setInt("video_id",g.$6.videoID).getURI();new(b("AsyncRequest"))().setURI(a).setHandler(function(a){a.payload&&a.payload.should_show_nux?g.$9():new(b("GamerGraphUserActionsTypedLogger"))().setEvent("instream_reward_nux_dontshow").setTargetID(g.$6.videoID).setContainerID(g.$6.pageID).setGameID(g.$6.gameID).setVideoID(g.$6.videoID).log()}).send()};this.$12=b("once")(function(){new(b("GamerGraphUserActionsTypedLogger"))().setEvent("instream_reward_nux_impression").setTargetID(g.$6.videoID).setContainerID(g.$6.pageID).setGameID(g.$6.gameID).setVideoID(g.$6.videoID).log(),new(b("GamesVideoInstreamRewardTypedLogger"))().setEvent("nux_impression").setVideoID(g.$6.videoID).addToExtraData("nux_type","star").log()});this.$10=b("once")(function(){new(b("GamerGraphUserActionsTypedLogger"))().setEvent("instream_reward_nux_close").setTargetID(g.$6.videoID).setContainerID(g.$6.pageID).setGameID(g.$6.gameID).setVideoID(g.$6.videoID).log()});this.$1=a;this.$2=a.addListener("TahoeController/enterTahoe",function(){window.setTimeout(g.$7,l)});this.$3=c;this.$4=d;this.$5=e;this.$6=f;this.$7()}var c=a.prototype;c.$8=function(){if(k)return null;var a=b("Tahoe").get(),c=a&&a.getMediaController();if(c!==this.$1||(c&&c.getMediaID())!==this.$6.videoID)return null;c=a&&a.getSideContent();return!c?null:c};c.$9=function(){var a=this,c=this.$8();if(!c)return;var d=b("DOM").create("div");b("DOM").appendContent(c,d);b("ReactDOM").render(i.jsx(b("LootDropStarsNuxModal.react"),{imageSrc:this.$5.toString(),pageName:this.$3,onClose:function(){b("DOM").remove(d),a.$10(),a.$11()},onVisible:function(){a.$12(),a.$13()}}),d);this.$2.remove();k=!0};c.$13=function(){j(b("RelayFBEnvironment"),{variables:{input:{video_id:this.$6.videoID}},mutation:g!==void 0?g:g=b("VideoWithInstreamStarNuxViewNuxMutation.graphql"),onCompleted:function(){}})};c.$11=function(){j(b("RelayFBEnvironment"),{variables:{input:{video_id:this.$6.videoID}},mutation:h!==void 0?h:h=b("VideoWithInstreamStarNuxDismissNuxMutation.graphql"),onCompleted:function(){}})};return a}();e.exports=a}),null);
__d("VideoLootDropAlertDescription.react",["ix","cx","fbt","DateConsts","FDSButton.react","GamesStickerGalleryButton.react","Image.react","React","XUIButton.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=30;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){if(!this.props.secondsLeft)return null;var a=Math.max(this.props.secondsLeft,0),c=Math.floor(a/b("DateConsts").SEC_PER_MIN),d=a%b("DateConsts").SEC_PER_MIN,e=d<10?"0":"";return j.jsx("span",{className:(a<=k?"_22kd":"")+(a>k?" _22ke":""),children:c+":"+e+d})};d.render=function(){var a=null;this.props.showViewStickersButton&&(this.props.onViewStickers?a=j.jsx(b("FDSButton.react"),{icon:j.jsx(b("Image.react"),{src:g("687985")}),label:i._("View Collection"),onClick:this.props.onViewStickers}):a=j.jsx(b("GamesStickerGalleryButton.react"),{entrypoint:"loot_drop_alert",pageID:this.props.ownerID}));return j.jsxs("div",{className:"_22ky",children:[j.jsxs("div",{className:"_3c0h",children:[typeof this.props.secondsLeft==="number"?j.jsx("div",{className:"_22lb",children:i._("DISAPPEARS IN {Time Remaining}",[i._param("Time Remaining",this.$1())])}):null,this.props.title?j.jsx("div",{className:"_3c0i",children:this.props.title}):null,this.props.description?j.jsx("div",{className:"_3c0-",children:this.props.description}):null]}),j.jsxs("div",{className:"_69bq",children:[a,this.props.showShareButton?j.jsx(b("XUIButton.react"),{use:"confirm",label:i._("Share"),image:j.jsx(b("Image.react"),{src:g("562341")}),ref:"lootDropShareButton",onClick:this.props.onShare}):null,this.props.showCloseButton?j.jsx(b("XUIButton.react"),{className:"_22lc",use:"default",label:i._("Close"),onClick:this.props.onClose}):null,this.props.showClaimButton?j.jsx(b("XUIButton.react"),{className:"_22lc",disabled:this.props.isLoading,use:"special",label:i._("Claim"),onClick:this.props.onClaim}):null,this.props.showSeeBalanceButton?j.jsx(b("XUIButton.react"),{className:"_22lc",disabled:this.props.isLoading,use:"default",label:i._("See Balance"),onClick:this.props.onSeeBalance}):null]})]})};return c}(j.Component);a.defaultProps={showClaimButton:!0};e.exports=a}),null);
__d("VideoLootDropAlertVisualAsset.react",["cx","Image.react","React","ShimButton.react","Video.react","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=h.jsx(b("Image.react"),{className:"_llu",src:this.props.src}),c=this.props.src instanceof String?h.jsx(b("Video.react"),{className:"_llu",autoPlay:!0,controls:!1,muted:!0,loop:this.props.idle,onEnded:this.props.onEnded,onPlay:this.props.onPlay,src:this.props.src}):null,d=this.props.isLoading&&this.props.canShowLoadingSpinner?h.jsx("div",{className:"_22kg",children:h.jsx(b("XUISpinner.react"),{background:"dark",size:"large"})}):null;return h.jsx(b("ShimButton.react"),{onClick:this.props.onClaim,children:h.jsxs("div",{className:"_lli",children:[a,c,d]})})};return c}(h.Component);e.exports=a}),null);
__d("VideoLootDropCommentInput.react",["cx","fbt","AbstractTextInput.react","EventListener","React","ReactDOM"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$3=function(a){a=a.target.value;c.props.onChange&&c.props.onChange(a)},c.$4=function(a){a.key==="Enter"&&(c.props.onEnter&&c.props.onEnter())},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=b("ReactDOM").findDOMNode(this);this.$1=[b("EventListener").listen(a,"keydown",this.$2),b("EventListener").listen(a,"keyup",this.$2),b("EventListener").listen(a,"keypress",this.$2)]};d.componentWillUnmount=function(){this.$1&&this.$1.forEach(function(a){a.remove()})};d.$2=function(a){a.stopPropagation()};d.render=function(){return i.jsx(b("AbstractTextInput.react"),{className:"_4iz-",disabled:this.props.isLoading,onChange:this.$3,placeholder:h._("Write a comment..."),onKeyDown:this.$4})};return c}(i.Component);e.exports=a}),null);
__d("VideoComponentLootDropAlert.react",["cx","fbt","FDSButton.react","React","VideoLootDropAlertDescription.react","VideoLootDropAlertVisualAsset.react","VideoLootDropCommentInput.react","XUICloseButton.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){return i.jsxs("div",{className:"_48en",children:[i.jsx(b("VideoLootDropCommentInput.react"),{isLoading:this.props.isLoading,onChange:this.props.onChange,onEnter:this.props.onGift}),i.jsx(b("FDSButton.react"),{label:h._("Send"),onClick:this.props.onGift,isDisabled:this.props.isLoading})]})};d.render=function(){return i.jsxs("div",{className:b("joinClasses")(this.props.className,"_3c0f"),children:[i.jsxs("div",{className:"_22ku",children:[this.props.src?i.jsx(b("VideoLootDropAlertVisualAsset.react"),{src:this.props.src,isLoading:this.props.isLoading,onClaim:this.props.onClaim,onPlay:this.props.onPlay,onEnded:this.props.onEnded,idle:this.props.idle,canShowLoadingSpinner:this.props.canShowLoadingSpinner}):null,i.jsx(b("VideoLootDropAlertDescription.react"),{description:this.props.itemDescription,isLoading:this.props.isLoading,onClaim:this.props.onClaim,onClose:this.props.onClose,onSeeBalance:this.props.onSeeBalance,onGift:this.props.onGift,onShare:this.props.onShare,onViewStickers:this.props.onViewStickers,onChange:this.props.onChange,ownerID:this.props.ownerID,secondsLeft:this.props.secondsLeft,showClaimButton:this.props.showClaimButton,showCloseButton:this.props.showCloseButton,showSeeBalanceButton:this.props.showSeeBalanceButton,showShareButton:this.props.showShareButton,showViewStickersButton:this.props.showViewStickersButton,title:this.props.itemTitle})]}),this.props.showGiftButton?this.$1():null,i.jsx(b("XUICloseButton.react"),{className:"_22l5",onClick:this.props.onClose,shade:"light"})]})};return c}(i.PureComponent);a.defaultProps={canShowLoadingSpinner:!1,showClaimButton:!0,showCloseButton:!1,showGiftButton:!1,showSeeBalanceButton:!1,showShareButton:!1,showViewStickersButton:!1};e.exports=a}),null);
__d("XLootDropAcceptController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/lootdrop/accept/{video_id}/",{video_id:{type:"FBID",required:!0},comment:{type:"String"},item_id:{type:"FBID"}})}),null);
__d("VideoLootDropAlertContainer.react",["cx","fbt","AsyncDialog","AsyncRequest","DateConsts","DigitalContentWalletPromotionActions.react","FacebookAppIDs","FBLogger","GamerGraphUserActionsTypedLogger","GamesVideoInstreamRewardTypedLogger","React","ReactDOM","RelayFBEnvironment","RelayModern","VideoComponentLootDropAlert.react","XLootDropAcceptController","XShareDialogController","promiseDone","VideoLootDropAlertContainer_refreshStickerQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("DateConsts").MS_PER_SEC,k=b("React"),l=b("RelayModern").fetchQuery;b("RelayModern").graphql;var m=1e3;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={claimed:!1,loading:!1,lootItem:null,secondsLeft:d.$1(),videoDidPlay:!1,videoDidEnd:!1,hideItemBufferExpired:!1,comment:""},d.$5=function(){d.setState({secondsLeft:d.$1()})},d.$6=function(a){a=a.payload;if(a==null){d.$7();return}a.type==="fb_sticker"&&d.$8(a);d.setState({loading:!1,lootItem:a});window.clearInterval(d.$3)},d.$9=function(a){d.$7(a.payload&&a.payload.error)},d.$11=function(a){new(b("GamerGraphUserActionsTypedLogger"))().setEvent("instream_reward_alert_gift_error").setContainerID(d.props.ownerID).setTargetID(d.props.videoID).setGameID(d.props.lootChest.gameID).setVideoID(d.props.videoID).log(),new(b("GamesVideoInstreamRewardTypedLogger"))().setEvent("gift_stars_error").setVideoID(d.props.videoID).setDropTableID(d.props.lootChest.dropTableID).addToExtraData("error",a.payload&&a.payload.error).log(),d.$10()},d.$12=function(){if(d.state.loading)return;d.setState({loading:!0,claimed:!0,videoDidPlay:!1,videoDidEnd:!1,hideItemBufferExpired:!1});d.$4=window.setTimeout(function(){d.setState({hideItemBufferExpired:!0})},m);d.$2=new(b("AsyncRequest"))().setURI(b("XLootDropAcceptController").getURIBuilder().setFBID("video_id",d.props.videoID).getURI()).setMethod("POST").setHandler(d.$6).setErrorHandler(d.$9);d.$2.send()},d.$13=function(){new(b("GamerGraphUserActionsTypedLogger"))().setEvent("instream_reward_alert_close").setContainerID(d.props.ownerID).setTargetID(d.props.videoID).setGameID(d.props.lootChest.gameID).setVideoID(d.props.videoID).log(),d.$10()},d.$14=function(a){d.setState({comment:a})},d.$15=function(a){d.$13()},d.$16=function(){if(d.state.loading)return;d.setState({loading:!0,claimed:!0,hideItemBufferExpired:!1});d.$4=window.setTimeout(function(){d.setState({hideItemBufferExpired:!0})},m);d.$2=new(b("AsyncRequest"))().setURI(b("XLootDropAcceptController").getURIBuilder().setFBID("video_id",d.props.videoID).setFBID("item_id",d.state.lootItem==null?"0":d.state.lootItem.itemID).setString("comment",d.state.comment).getURI()).setMethod("POST").setHandler(d.$15).setErrorHandler(d.$11);d.$2.send()},d.$17=function(){if(d.state.loading)return;d.setState({loading:!0,claimed:!0,hideItemBufferExpired:!1});d.$4=window.setTimeout(function(){d.setState({hideItemBufferExpired:!0})},m);b("DigitalContentWalletPromotionActions.react").setAcceptPromotion(!0);d.$13()},d.$18=function(){if(d.state.loading)return;if(!d.state.lootItem)return;var a=d.state.lootItem.type==="fb_seed_star"?h._("I got {count of claimed stars} free Stars while watching this stream! Come check it out.",[h._param("count of claimed stars",d.state.lootItem.count)]):h._("I claimed {loot chest name} while watching this stream! Come check it out.",[h._param("loot chest name",d.state.lootItem.name)]);new(b("GamerGraphUserActionsTypedLogger"))().setEvent("instream_reward_share").setContainerID(d.props.ownerID).setTargetID(d.props.videoID).setGameID(d.props.lootChest.gameID).setVideoID(d.props.videoID).log();new(b("GamesVideoInstreamRewardTypedLogger"))().setEvent("drop_alert_share").setVideoID(d.props.videoID).setDropTableID(d.props.lootChest.dropTableID).log();a=b("XShareDialogController").getURIBuilder().setInt("app_id",b("FacebookAppIDs").WWW).setInt("type",11).setString("id",d.props.videoID).setString("st","all_modes").setInt("default_page_target_id",d.props.ownerID).setString("prefill_text",a.toString()).getURI();b("AsyncDialog").send(new(b("AsyncRequest"))(a).setRelativeTo(b("ReactDOM").findDOMNode(d.refs.lootDropShareButton)))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentWillUnmount=function(){this.$2&&this.$2.abort(),window.clearInterval(this.$3),window.clearTimeout(this.$4)};d.componentDidMount=function(){this.$3=window.setInterval(this.$5,j),new(b("GamerGraphUserActionsTypedLogger"))().setEvent("instream_reward_alert_impression").setContainerID(this.props.ownerID).setTargetID(this.props.videoID).setGameID(this.props.lootChest.gameID).setVideoID(this.props.videoID).log(),new(b("GamesVideoInstreamRewardTypedLogger"))().setEvent("drop_alert_impression").setVideoID(this.props.videoID).setDropTableID(this.props.lootChest.dropTableID).log()};d.$1=function(){return Math.max(0,this.props.lootChest.expireTime-Math.floor(Date.now()/j))};d.$8=function(a){if(a.secondaryItemID!=null){var c=i!==void 0?i:i=b("VideoLootDropAlertContainer_refreshStickerQuery.graphql");a={stickerID:a.secondaryItemID};b("promiseDone")(l(b("RelayFBEnvironment"),c,a))}};d.$7=function(a){window.clearInterval(this.$3),new(b("GamerGraphUserActionsTypedLogger"))().setEvent("instream_reward_alert_accept_error").setContainerID(this.props.ownerID).setTargetID(this.props.videoID).setGameID(this.props.lootChest.gameID).setVideoID(this.props.videoID).log(),new(b("GamesVideoInstreamRewardTypedLogger"))().setEvent("accept_drop_error").setVideoID(this.props.videoID).setDropTableID(this.props.lootChest.dropTableID).addToExtraData("error",a).log(),b("FBLogger")("gaming_video").warn("isr_accept_error: Client received unexpected response: %s",a),this.$10()};d.$19=function(){return!this.state.claimed&&this.state.secondsLeft<=0};d.$20=function(){if(!this.state.lootItem)return!1;return this.state.videoDidPlay&&!this.state.videoDidEnd?!1:this.state.hideItemBufferExpired};d.$21=function(){var a=this.state.lootItem;return!!a&&a.type==="fb_free_star"};d.$22=function(){var a=this.state.lootItem;return!!a&&a.type==="fb_seed_star"};d.$23=function(){var a=this.state.lootItem;return this.$20()&&!!a&&a.type!=="fb_free_star"&&a.type!=="fb_seed_star"};d.$24=function(){var a=this.state.lootItem;return!!a&&a.type==="fb_sticker"};d.$25=function(){var a=this.state.lootItem;return!!a&&(a.type==="gift"||a.type==="code"||a.type==="fb_seed_star")};d.$26=function(){if(!this.state.loading)return!1;return this.state.videoDidPlay?this.state.videoDidEnd?!0:!1:!0};d.componentDidUpdate=function(){this.$19()&&(new(b("GamerGraphUserActionsTypedLogger"))().setEvent("instream_reward_alert_expire").setContainerID(this.props.ownerID).setTargetID(this.props.videoID).setGameID(this.props.lootChest.gameID).setVideoID(this.props.videoID).log(),new(b("GamesVideoInstreamRewardTypedLogger"))().setEvent("drop_alert_expire").setVideoID(this.props.videoID).setDropTableID(this.props.lootChest.dropTableID).log(),this.$10())};d.$10=function(){this.props.onRemove&&this.props.onRemove(),this.props.onClose&&this.props.onClose()};d.$27=function(a){return{handleOnClick:this.$13,displayName:a.name,displayDescription:a.description,assetURI:a.idleURI,idle:!0}};d.$28=function(a){return{displayName:a.name,displayDescription:a.description,assetURI:a.openURI,idle:!1}};d.$29=function(a){return{handleOnClick:this.$12,displayName:a.name,displayDescription:a.description,assetURI:a.idleURI,idle:!0}};d.render=function(){var a=this;if(this.$19())return null;var c;this.$20()&&this.state.lootItem?c=this.$27(this.state.lootItem):this.state.claimed?c=this.$28(this.props.lootChest):c=this.$29(this.props.lootChest);return k.jsx(b("VideoComponentLootDropAlert.react"),{className:"_3p35",onSeeBalance:this.$17,onClaim:c.handleOnClick,onClose:this.$13,onGift:this.$16,onShare:this.$18,onChange:this.$14,onViewStickers:c.handleOnViewStickers,src:c.assetURI,itemTitle:c.displayName,itemDescription:c.displayDescription,idle:c.idle,isLoading:this.state.loading,ownerID:this.props.ownerID,secondsLeft:this.state.claimed?null:this.state.secondsLeft,showClaimButton:!this.state.claimed,showCloseButton:this.$23(),showGiftButton:this.$21(),showSeeBalanceButton:this.$22(),showShareButton:this.$25(),showViewStickersButton:this.$24(),onPlay:function(){a.setState({videoDidPlay:!0})},onEnded:function(){a.setState({videoDidEnd:!0})},canShowLoadingSpinner:this.$26()})};return c}(k.PureComponent);e.exports=a}),null);
__d("XLootDropPollController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/lootdrop/poll/{video_id}/",{video_id:{type:"FBID",required:!0},first_heartbeat:{type:"Bool",defaultValue:!1}})}),null);
__d("VideoWithLootDrop",["AsyncRequest","React","VideoLootDropAlertContainer.react","VideoNotificationActions","XLootDropPollController","once"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=60;a=function(){function a(a,c,d,e){var f=this;this.$2=0;this.$3=0;this.$4=0;this.$7=!1;this.$12=function(a){a.payload&&(b("VideoNotificationActions").sendNotification(f.$1,g.jsx(b("VideoLootDropAlertContainer.react"),{lootChest:a.payload,videoID:f.$1.getVideoID(),ownerID:f.$6,onClose:f.$13})),f.$7=!0)};this.$13=function(){f.$7=!1};this.$10=b("once")(function(){new(b("AsyncRequest"))().setURI(b("XLootDropPollController").getURIBuilder().setFBID("video_id",f.$1.getVideoID()).setBool("first_heartbeat",!0).getURI()).setMethod("POST").send()});this.$1=a;this.$6=c;a.addListener("beginPlayback",this.$8.bind(this));a.addListener("updateStatus",this.$9.bind(this));this.$10()}var c=a.prototype;c.$8=function(a){this.$2=a.position};c.$9=function(a){var b=a.position-this.$2;this.$2=a.position;if(this.$1.isInline())return;this.$3+=b;this.$3-this.$4>h&&this.$11()};c.$11=function(){this.$5&&this.$5.abort();if(this.$7)return;if(!this.$1.isState("playing"))return;this.$4=this.$3;this.$5=new(b("AsyncRequest"))().setURI(b("XLootDropPollController").getURIBuilder().setFBID("video_id",this.$1.getVideoID()).getURI()).setMethod("POST").setHandler(this.$12);this.$5.send()};return a}();e.exports=a}),null);