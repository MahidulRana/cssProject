if (self.CavalryLogger) { CavalryLogger.start_js(["YcRmW"]); }

__d("XSetNUXSeenController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/chat/nux_seen/",{setting_name:{type:"String"}})}),null);
__d("MessagingShowNUX.react",["AsyncRequest","ChatConfig","React","XSetNUXSeenController","XUIAmbientNUX.react","prop-types"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showNUX:!b("ChatConfig").get(d.props.settingName)},d.$1=function(){if(!d.state.showNUX)return;b("ChatConfig").set(d.props.settingName,!0);new(b("AsyncRequest"))(b("XSetNUXSeenController").getURIBuilder().getURI()).setData({setting_name:d.props.settingName}).send();d.setState({showNUX:!1});d.props.onHidden()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return g.jsx(b("XUIAmbientNUX.react"),{contextRef:this.props.contextRef,onCloseButtonClick:this.$1,position:"left",width:"auto",shown:this.state.showNUX&&this.props.shown,children:this.props.children})};return c}(g.PureComponent);a.propTypes={children:(c=b("prop-types")).any,contextRef:c.func.isRequired,onHidden:c.func.isRequired,settingName:c.string.isRequired,shown:c.bool.isRequired};e.exports=a}),null);
__d("MessengerCameraIconSVGM4React.re",["MessengerCameraIconSVGM4React.bs"],(function(a,b,c,d,e,f){a=function(a){a=b("MessengerCameraIconSVGM4React.bs").make(a.fill);return a};f.make=a}),null);
__d("MessengerQuickCamButtonHTML5.react",["cx","fbt","AutoFocusableLink.react","BootloadedComponent.react","Bootloader","ChatConfig","CurrentUser","JSResource","MessagingShowNUX.react","MessengerCameraIconSVGM4React.re","MessengerComposerButtonLabels","MessengerCustomColorUtils.re","MessengerDialog.react","MessengerEnvironment","MessengerQuickCamActions","MessengerQuickCamOrigins","MessengerSpinner.react","React","XUIDialog.react","XUISpinner.react","gkx","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j="seen_cam_button_nux";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={dialogOpen:!!d.props.clicked,nuxShown:!!b("ChatConfig").get(j),nuxOpen:!1},d.$3=function(){d.setState({nuxOpen:!1,nuxShown:!0,dialogOpen:!0})},d.$6=function(){d.state.dialogOpen&&d.setState({dialogOpen:!1})},d.$7=function(a){!a?d.$6():b("MessengerQuickCamActions").requestUserMedia(d.props.viewer,d.props.threadID)},d.$1=function(a){d.$8();if(!d.state.nuxShown){d.setState({nuxOpen:!0});return}if(d.state.dialogOpen)return;a.stopPropagation();d.setState({dialogOpen:!d.state.dialogOpen})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.textChild;return i.jsxs(b("AutoFocusableLink.react"),{autoFocus:this.props.autoFocus,className:b("joinClasses")(this.props.className,"_30yy"),onClick:this.$1,ref:"photoButton",role:"button",title:b("MessengerComposerButtonLabels").QuickCamButtonLabel,"aria-label":b("MessengerComposerButtonLabels").QuickCamButtonLabel,tabIndex:0,children:[!b("CurrentUser").isWorkUser()&&b("MessengerEnvironment").messengerui||b("CurrentUser").isWorkUser()&&b("gkx")("1072568")?i.jsx(b("MessengerCameraIconSVGM4React.re").make,{fill:this.props.fill||b("MessengerCustomColorUtils.re").defaultColor()}):null,!!a&&a,this.$2()]})};d.$2=function(){var a=this;if(!this.state.nuxShown)return i.jsx(b("MessagingShowNUX.react"),{contextRef:function(){return a.refs.photoButton},settingName:j,shown:this.state.nuxOpen,onHidden:this.$3,ref:"camNUX",children:h._("Send photos and videos from your computer's camera.")});return!this.state.dialogOpen?null:this.props.location===b("MessengerQuickCamOrigins").MESSENGER?this.$4():this.$5()};d.$4=function(){var a=this,c=window.innerWidth/3;return i.jsx(b("MessengerDialog.react"),{overflow:"hidden",contextRef:function(){return a.refs.photoButton},shown:this.state.dialogOpen,onBlur:this.$6,onToggle:this.$7,width:400>c?400:c,children:i.jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:i.jsx("div",{style:{padding:"30px",textAlign:"center"},children:i.jsx(b("MessengerSpinner.react"),{})}),bootloadLoader:b("JSResource")("MessengerQuickCamDialog.react").__setRef("MessengerQuickCamButtonHTML5.react"),location:this.props.location,onShown:function(b){a.$7(!0),a.props.onDialogShown&&a.props.onDialogShown(b)},onHidden:this.$6,onEscKeyDown:this.$6,shown:this.state.dialogOpen,threadID:this.props.threadID,viewer:this.props.viewer})})};d.$5=function(){var a=this,c=window.innerWidth/3;return i.jsx(b("XUIDialog.react"),{overflow:"hidden",contextRef:function(){return a.refs.photoButton},shown:this.state.dialogOpen,onBlur:this.$6,hideOnEscape:!0,onToggle:this.$7,width:400>c?400:c,children:i.jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:i.jsx("div",{style:{padding:"30px",textAlign:"center"},children:i.jsx(b("XUISpinner.react"),{})}),bootloadLoader:b("JSResource")("MessengerQuickCamDialog.react").__setRef("MessengerQuickCamButtonHTML5.react"),location:this.props.location,onShown:function(b){a.$7(!0),a.props.onDialogShown&&a.props.onDialogShown(b)},onHidden:this.$6,onEscKeyDown:this.$6,onSendButtonClick:this.props.onSendButtonClick,shown:this.state.dialogOpen,threadID:this.props.threadID,viewer:this.props.viewer})})};d.$8=function(){b("Bootloader").loadModules(["M4ComposerTypedLogger","M4ComposerLoggerEvents"],function(a,b){new a().setEvent(b.CLICK_QUICK_CAM).log()},"MessengerQuickCamButtonHTML5.react")};return c}(i.PureComponent);e.exports=a}),null);