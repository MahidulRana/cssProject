if (self.CavalryLogger) { CavalryLogger.start_js(["ZjE7P"]); }

__d("LiveVideoAnnouncementsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:LiveVideoAnnouncementsLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:LiveVideoAnnouncementsLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:LiveVideoAnnouncementsLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setIsPositiveAction=function(a){this.$1.is_positive_action=a;return this};c.setType=function(a){this.$1.type=a;return this};c.setVideoID=function(a){this.$1.video_id=a;return this};return a}();c={event:!0,is_positive_action:!0,type:!0,video_id:!0};e.exports=a}),null);
__d("UFILiveVideoAnnouncementAction",["UFIDispatcherBase"],(function(a,b,c,d,e,f){"use strict";a={clickCTA:function(a,c,d){b("UFIDispatcherBase").dispatch({type:"cta_click",comment:a,ctaNewState:c,ftentidentifier:a.id,instanceID:a.id,onRequestUpdate:d})},updateCTAStateSuccess:function(a,c){b("UFIDispatcherBase").dispatch({type:"cta_state_update_success",comment:a,ctaNewState:c,ftentidentifier:a.id,instanceID:a.id})}};e.exports=a}),null);
__d("XLiveShoppingMessageInterestController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging_commerce/live_shopping_message_seller/",{post_id:{type:"FBID",required:!0},message_text:{type:"String"},seller_id:{type:"FBID",required:!0}})}),null);
__d("GroupSellLiveShoppingMessageSellerDialog.react",["cx","fbt","AsyncRequest","AsyncResponse","P2PLoadingMask.react","React","Token.react","XLiveShoppingMessageInterestController","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIGrayText.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=500,k=[h._("I'm interested in this item."),h._("Is this item still available?"),h._("What condition is this item in?"),h._("Do you deliver?")];a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={chatFieldContent:"",loading:!1,showDialog:!0},d.$1=function(){d.setState({loading:!0});var a=d.props,c=a.postID;a=a.ownerID;c=b("XLiveShoppingMessageInterestController").getURIBuilder().setFBID("post_id",c.toString()).setString("message_text",d.state.chatFieldContent.toString()).setFBID("seller_id",a.toString()).getURI();new(b("AsyncRequest"))().setURI(c).setMethod("POST").setHandler(function(a){d.$2()}).setErrorHandler(function(a){d.$2(),b("AsyncResponse").defaultErrorHandler(a)}).send()},d.$2=function(){d.setState({showDialog:!1,loading:!1}),d.props.handleToggle&&d.props.handleToggle(!1)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(){return i.jsx("div",{className:"_5wi1",children:h._("To: {name}",[h._param("name",i.jsx(b("Token.react"),{className:"_5wi2",label:this.props.ownerName}))])})};d.$4=function(){var a=this;return i.jsx("div",{className:"_5wh_",children:i.jsx("textarea",{onChange:function(b){a.setState({chatFieldContent:b.target.value})},placeholder:h._("Write a message..."),value:this.state.chatFieldContent})})};d.$5=function(){var a=this;return i.jsx("div",{className:"_60h0",children:k.map(function(c,d){return i.jsx(b("XUIButton.react"),{className:"_60g_",label:c,onClick:function(){a.setState({chatFieldContent:c.toString()})}},d)})})};d.render=function(){return i.jsxs(b("XUIDialog.react"),{onToggle:this.$2,shown:this.state.showDialog,width:j,children:[i.jsx(b("XUIDialogTitle.react"),{children:h._("New Message")}),i.jsxs(b("XUIDialogBody.react"),{className:"_5wiu",children:[this.$3(),this.$4(),this.$5()]}),i.jsx(b("XUIDialogFooter.react"),{leftContent:i.jsx(b("XUIGrayText.react"),{shade:"light",size:"meta1",children:h._("Double check your purchase before sending money.")}),children:i.jsx(b("XUIDialogButton.react"),{disabled:this.state.loading,label:h._("Send"),onClick:this.$1,size:"large",use:"confirm"})}),i.jsx(b("P2PLoadingMask.react"),{visible:this.state.loading})]})};return c}(i.Component);e.exports=a}),null);
__d("GroupSellLiveShoppingMessageSellerDialogController",["DOM","GroupSellLiveShoppingMessageSellerDialog.react","React","ReactDOM"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(){function a(a,c,d,e){this.$2=a,this.$3=c,this.$4=d,this.$1=b("DOM").create("div"),this.$5=e}var c=a.prototype;c.showDialog=function(){b("ReactDOM").render(g.jsx(b("GroupSellLiveShoppingMessageSellerDialog.react"),{ownerID:this.$2,ownerName:this.$3,postID:this.$4,handleToggle:this.$5}),this.$1)};return a}();e.exports=a}),null);
__d("LiveVideoCTAFooter",["Arbiter","CSS","Event","SubscribeButton"],(function(a,b,c,d,e,f){var g={SUBSCRIBED:"subscribed",UNSUBSCRIBED:"unsubscribed",init:function(a,c,d,e,f,h){var i;(i=b("Arbiter")).subscribe(b("SubscribeButton").SUBSCRIBED,function(c,d){f==d.profile_id&&h==d.contextID&&b("CSS").show(a)});i.subscribe(b("SubscribeButton").UNSUBSCRIBED,function(c,d){f==d.profile_id&&h==d.contextID&&b("CSS").hide(a)});b("Event").listen(d,"click",function(){b("Arbiter").inform(g.SUBSCRIBED,{profileID:f})});b("Event").listen(e,"click",function(){b("Arbiter").inform(g.UNSUBSCRIBED,{profileID:f})});i.subscribe(g.SUBSCRIBED,function(a,b){f==b.profileID&&c.swap()});i.subscribe(g.UNSUBSCRIBED,function(a,b){f==b.profileID&&c.unswap()})}};e.exports=g}),null);
__d("XVideoChannelFollowController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video_channel/follow/",{channel_id:{type:"FBID"},follow:{type:"Bool",defaultValue:!1},surface:{type:"Enum",enumType:1},video_id:{type:"FBID"},privacy_mutation_token:{type:"String"}})}),null);
__d("UFILiveVideoAnnouncementDataManager",["Arbiter","AsyncRequest","GroupSellLiveShoppingMessageSellerDialogController","LiveVideoCTAFooter","SubscribeButton","UFILiveVideoAnnouncementAction","XLiveSubscriptionController","XLivingRoomVideoShareDialogController","XPageGetNewsFeedSaveController","XShareDialogController","XVideoChannelFollowController","gkx","goURI"],(function(a,b,c,d,e,f){"use strict";function g(a,c,d){c?c=b("SubscribeButton").SUBSCRIBED:c=b("SubscribeButton").UNSUBSCRIBED;b("Arbiter").inform(c,{profile_id:a.targetID,focusOnClick:!1,see_first:d})}function h(a,c){c?c=b("LiveVideoCTAFooter").SUBSCRIBED:c=b("LiveVideoCTAFooter").UNSUBSCRIBED;b("Arbiter").inform(c,{profileID:a.targetID})}a={updateCTAState:function(a,c,d){var e,f;switch(a.ctaAction){case"follow":case"follow_artist":e=b("XVideoChannelFollowController").getURIBuilder().getURI();f={channel_id:a.targetID,follow:c,surface:"IN_LIVE_EXPERIENCE",video_id:a.ftentidentifier};break;case"live_subscribe":e=b("XLiveSubscriptionController").getURIBuilder().getURI();var i;c?i="subscribe":i=a.broadcastSubscriptionStatus===2?"unsubscribe":"subscribe_suggested";f={action:i,video_id:a.ftentidentifier};break;case"page_like":e="/ajax/pages/like_link";f={page_id:a.targetID,like:c};break;case"share":e=b("XShareDialogController").getURIBuilder().getURI();f={id:a.ftentidentifier,type:11};break;case"see_first":e=b("XPageGetNewsFeedSaveController").getURIBuilder().setInt("page_id",a.targetID).setEnum("follow",c?"see_first":"follow").setEnum("ref","live_video_prompt").getURI();f={};break;case"living_room_start":e=b("XLivingRoomVideoShareDialogController").getURIBuilder().setFBID("video_id",a.ftentidentifier).setEnum("creation_source","live_video_prompt").setEnum("entry_source","CTA_CREATION_DIALOG").getURI();f={};break;case"recommended_share":b("gkx")("1182894")?e=a.ctaLink:e=b("XLivingRoomVideoShareDialogController").getURIBuilder().setFBID("video_id",a.ftentidentifier).setFBID("group_id",a.targetID).setEnum("creation_source","recommended_share_in_live").setEnum("entry_source","CTA_CREATION_DIALOG").getURI();f={};break;case"message_seller":i=a.targetID;var j=a.targetName;if(!i||!j)break;i=new(b("GroupSellLiveShoppingMessageSellerDialogController"))(i,j,a.ftentidentifier,d);i.showDialog();f={};break}d(!0);new(b("AsyncRequest"))().setURI(e).setData(f).setHandler(function(e){e=e.payload;var f=!1;switch(a.ctaAction){case"see_first":f=!0;e&&e.followStatus!==void 0&&g(a,!0,c);break;default:if(!e||e&&e.success){var i;f=!0;if(a.ctaAction==="follow"||a.ctaAction==="follow_artist")g(a,c,!1);else if(a.ctaAction==="live_subscribe")h(a,c);else if(a.ctaAction==="recommended_share"&&(e==null?void 0:(i=e.success)==null?void 0:i.uri)!=null){b("goURI")(e==null?void 0:(i=e.success)==null?void 0:i.uri)}}}f&&b("UFILiveVideoAnnouncementAction").updateCTAStateSuccess(a,c);d(!1)}).setErrorHandler(function(a){d(!1)}).send()}};e.exports=a}),null);
__d("UFILiveVideoAnnouncementCTAStateStore",["FluxMapStore","UFIDispatcherBase","UFILiveVideoAnnouncementDataManager"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.reduce=function(a,c){switch(c.type){case"cta_click":b("UFILiveVideoAnnouncementDataManager").updateCTAState(c.comment,c.ctaNewState,c.onRequestUpdate);return a;case"cta_state_update_success":return a.set(c.comment.id,c.ctaNewState);default:return a}};return c}(b("FluxMapStore"));a.__moduleID=e.id;e.exports=new a(b("UFIDispatcherBase"))}),null);
__d("UFILiveVideoAnnouncementCTA.react",["ix","cx","AsyncRequest","DOM","Image.react","LeftRight.react","Link.react","LiveVideoAnnouncementsTypedLogger","LivingRoomStartingInterstitial.react","PageTransitions","React","ReactRenderer","UFILiveVideoAnnouncementAction","URI","asset","fbglyph","gkx","once"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={requestPending:!1},d.$1=b("once")(function(a,c){new(b("LiveVideoAnnouncementsTypedLogger"))().setEvent("impression").setIsPositiveAction(c).setType(a.ctaAction).setVideoID(a.ftentidentifier).log()}),d.$5=function(a){a.preventDefault();if(d.state.requestPending)return;a=d.props.comment;var c=!d.props.ctaState;new(b("LiveVideoAnnouncementsTypedLogger"))().setEvent("click").setIsPositiveAction(c).setType(a.ctaAction).setVideoID(a.ftentidentifier).log();if(a.ctaAction==="promote_live_video"){b("PageTransitions").go(a.ctaLink,!1);return}if(a.ctaAction==="link"){new(b("AsyncRequest"))().setURI(new(i||(i=b("URI")))(a.ctaLink)).setMethod("POST").send();return}var e=babelHelpers["extends"]({},a,{targetName:a.ctaAction==="message_seller"?d.props.contextArgs.ownerName:null});if(a.ctaAction==="recommended_share"&&a.ctaGlyphName==="living_room_start"&&b("gkx")("1182894")){a=b("DOM").create("div");b("DOM").appendContent(document.body,a);b("ReactRenderer").renderComponent(j.jsx(b("LivingRoomStartingInterstitial.react"),{profileName:null,shown:!0}),a)}b("UFILiveVideoAnnouncementAction").clickCTA(e,c,d.$6)},d.$6=function(a){d.setState({requestPending:a})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.comment;if(a.ctaAction==="none")return null;var b=this.props.ctaState;this.$1(a,!b);var c=this.$2();b=b?a.ctaTextOn:a.ctaTextOff;return this.$3(c,b,this.$4(a.ctaAction))};d.$2=function(){var a=this.props.ctaState?this.props.comment.ctaGlyphName:this.props.comment.ctaGlyphNameOff,c;switch(a){case"checkmark":c=g("124180");break;case"like":this.props.ctaState?c=g("429101"):c=g("363711");break;case"follow":c=g("413603");break;case"following":c=g("429094");break;case"play":c=g("431955");break;case"share":c=g("562926");break;case"see_first":c=this.props.ctaState?g("565619"):g("363880");break;case"living_room_start":c=g("861276");break}return c?j.jsx(b("Image.react"),{src:c}):null};d.$4=function(a){switch(a){case"share":return!1;default:return!0}};d.$3=function(a,c,d){return j.jsxs(b("LeftRight.react"),{className:"_2e-p",onClick:this.$5,children:[j.jsx(b("Link.react"),{className:(this.props.ctaState&&d?"_1i4d":"")+(this.props.ctaState?"":" _1i4e"),children:c}),a]})};return c}(j.PureComponent);e.exports=a}),null);
__d("UFILiveVideoAnnouncementCTAContainer.react",["Arbiter","FluxContainer","React","SubscribeButton","SubscriptionsHandler","UFILiveVideoAnnouncementAction","UFILiveVideoAnnouncementCTA.react","UFILiveVideoAnnouncementCTAStateStore"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("UFILiveVideoAnnouncementCTAStateStore")]};c.calculateState=function(a,c){a=b("UFILiveVideoAnnouncementCTAStateStore").get(c.comment.id);a==null&&(a=c.comment.ctaState);return{ctaState:a}};var d=c.prototype;d.componentDidMount=function(){var a=this.props.comment;if(a.ctaAction!=="follow"&&a.ctaAction!=="see_first")return;this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("Arbiter").subscribe(b("SubscribeButton").SUBSCRIBED,function(c,d){if(a.targetID==d.profile_id){c=!0;a.ctaAction==="see_first"&&(c=d.see_first!==void 0?d.see_first:!1);b("UFILiveVideoAnnouncementAction").updateCTAStateSuccess(a,c)}}),b("Arbiter").subscribe(b("SubscribeButton").UNSUBSCRIBED,function(c,d){a.targetID==d.profile_id&&b("UFILiveVideoAnnouncementAction").updateCTAStateSuccess(a,!1)}))};d.componentWillUnmount=function(){this.$1&&this.$1.release()};d.render=function(){return g.jsx(b("UFILiveVideoAnnouncementCTA.react"),{comment:this.props.comment,contextArgs:this.props.contextArgs,ctaState:this.state.ctaState})};return c}(g.Component);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);